{"ast":null,"code":"import React from'react';import\"./Header.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=()=>{const logout=async e=>{e.preventDefault();let logout_url=window.location.origin+\"/livingstonesapp/logout\";const res=await fetch(logout_url,{method:\"GET\"});if(res.ok){let username=sessionStorage.getItem('username');sessionStorage.removeItem('username');localStorage.removeItem('token');// Remove the JWT token\nwindow.location.href=window.location.origin;window.location.reload();alert(\"Logging out \"+username+\"...\");}else{alert(\"The user could not be logged out.\");}};// Default home page items\nlet home_page_items=/*#__PURE__*/_jsx(\"div\",{});// Gets the username in the current session\nlet curr_user=sessionStorage.getItem('username');// If the user is logged in, show the username and logout option on home page\nif(curr_user!==null&&curr_user!==\"\"){home_page_items=/*#__PURE__*/_jsxs(\"div\",{className:\"input_panel\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"username\",children:sessionStorage.getItem(\"username\")}),/*#__PURE__*/_jsx(\"a\",{className:\"nav_item\",href:\"/livingstonesapp/logout\",onClick:logout,children:\"Logout\"})]});}else{home_page_items=/*#__PURE__*/_jsxs(\"div\",{className:\"input_panel\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"nav_item\",href:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(\"a\",{className:\"nav_item\",href:\"/register\",children:\"Register\"})]});}return/*#__PURE__*/_jsx(\"header\",{className:\"navbar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Monster Fighting App\"}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"a\",{className:\"homepage_links\",href:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(\"a\",{className:\"homepage_links\",href:\"/create-game\",children:\"New Game\"}),/*#__PURE__*/_jsx(\"a\",{className:\"homepage_links\",href:\"/active-games\",children:\"Join Game\"}),home_page_items]})]})});};export default Header;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","Header","logout","e","preventDefault","logout_url","window","location","origin","res","fetch","method","ok","username","sessionStorage","getItem","removeItem","localStorage","href","reload","alert","home_page_items","curr_user","className","children","onClick"],"sources":["/Users/jerometh/PycharmProjects/LivingStones/frontend/src/components/Header/Header.jsx"],"sourcesContent":["import React from 'react';\nimport \"./Header.css\";\n\nconst Header = () => {\n    const logout = async (e) => {\n        e.preventDefault();\n        let logout_url = window.location.origin + \"/livingstonesapp/logout\";\n        const res = await fetch(logout_url, {\n            method: \"GET\",\n        });\n\n        if (res.ok) {\n            let username = sessionStorage.getItem('username');\n            sessionStorage.removeItem('username');\n            localStorage.removeItem('token'); // Remove the JWT token\n\n            window.location.href = window.location.origin;\n            window.location.reload();\n            alert(\"Logging out \" + username + \"...\");\n        } else {\n            alert(\"The user could not be logged out.\");\n        }\n    };\n\n    // Default home page items\n    let home_page_items = <div></div>;\n\n    // Gets the username in the current session\n    let curr_user = sessionStorage.getItem('username');\n\n    // If the user is logged in, show the username and logout option on home page\n    if (curr_user !== null && curr_user !== \"\") {\n        home_page_items = (\n            <div className=\"input_panel\">\n                <span className='username'>{sessionStorage.getItem(\"username\")}</span>\n                <a className=\"nav_item\" href=\"/livingstonesapp/logout\" onClick={logout}>Logout</a>\n            </div>\n        );\n    } else {\n        home_page_items = (\n            <div className=\"input_panel\">\n                <a className=\"nav_item\" href=\"/login\">Login</a>\n                <a className=\"nav_item\" href=\"/register\">Register</a>\n            </div>\n        );\n    }\n\n    return (\n        <header className=\"navbar\">\n            <div className=\"container\">\n                <h1>Monster Fighting App</h1>\n                <nav>\n                    <a className=\"homepage_links\" href=\"/\">Home</a>\n                    <a className=\"homepage_links\" href=\"/create-game\">New Game</a>\n                    <a className=\"homepage_links\" href=\"/active-games\">Join Game</a>\n                    {home_page_items}\n                </nav>\n            </div>\n        </header>\n    );\n}\n\nexport default Header;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtB,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACjB,KAAM,CAAAC,MAAM,CAAG,KAAO,CAAAC,CAAC,EAAK,CACxBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CAAAC,UAAU,CAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAG,yBAAyB,CACnE,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAACL,UAAU,CAAE,CAChCM,MAAM,CAAE,KACZ,CAAC,CAAC,CAEF,GAAIF,GAAG,CAACG,EAAE,CAAE,CACR,GAAI,CAAAC,QAAQ,CAAGC,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC,CACjDD,cAAc,CAACE,UAAU,CAAC,UAAU,CAAC,CACrCC,YAAY,CAACD,UAAU,CAAC,OAAO,CAAC,CAAE;AAElCV,MAAM,CAACC,QAAQ,CAACW,IAAI,CAAGZ,MAAM,CAACC,QAAQ,CAACC,MAAM,CAC7CF,MAAM,CAACC,QAAQ,CAACY,MAAM,CAAC,CAAC,CACxBC,KAAK,CAAC,cAAc,CAAGP,QAAQ,CAAG,KAAK,CAAC,CAC5C,CAAC,IAAM,CACHO,KAAK,CAAC,mCAAmC,CAAC,CAC9C,CACJ,CAAC,CAED;AACA,GAAI,CAAAC,eAAe,cAAGvB,IAAA,SAAU,CAAC,CAEjC;AACA,GAAI,CAAAwB,SAAS,CAAGR,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC,CAElD;AACA,GAAIO,SAAS,GAAK,IAAI,EAAIA,SAAS,GAAK,EAAE,CAAE,CACxCD,eAAe,cACXrB,KAAA,QAAKuB,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxB1B,IAAA,SAAMyB,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAEV,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC,CAAO,CAAC,cACtEjB,IAAA,MAAGyB,SAAS,CAAC,UAAU,CAACL,IAAI,CAAC,yBAAyB,CAACO,OAAO,CAAEvB,MAAO,CAAAsB,QAAA,CAAC,QAAM,CAAG,CAAC,EACjF,CACR,CACL,CAAC,IAAM,CACHH,eAAe,cACXrB,KAAA,QAAKuB,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxB1B,IAAA,MAAGyB,SAAS,CAAC,UAAU,CAACL,IAAI,CAAC,QAAQ,CAAAM,QAAA,CAAC,OAAK,CAAG,CAAC,cAC/C1B,IAAA,MAAGyB,SAAS,CAAC,UAAU,CAACL,IAAI,CAAC,WAAW,CAAAM,QAAA,CAAC,UAAQ,CAAG,CAAC,EACpD,CACR,CACL,CAEA,mBACI1B,IAAA,WAAQyB,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACtBxB,KAAA,QAAKuB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtB1B,IAAA,OAAA0B,QAAA,CAAI,sBAAoB,CAAI,CAAC,cAC7BxB,KAAA,QAAAwB,QAAA,eACI1B,IAAA,MAAGyB,SAAS,CAAC,gBAAgB,CAACL,IAAI,CAAC,GAAG,CAAAM,QAAA,CAAC,MAAI,CAAG,CAAC,cAC/C1B,IAAA,MAAGyB,SAAS,CAAC,gBAAgB,CAACL,IAAI,CAAC,cAAc,CAAAM,QAAA,CAAC,UAAQ,CAAG,CAAC,cAC9D1B,IAAA,MAAGyB,SAAS,CAAC,gBAAgB,CAACL,IAAI,CAAC,eAAe,CAAAM,QAAA,CAAC,WAAS,CAAG,CAAC,CAC/DH,eAAe,EACf,CAAC,EACL,CAAC,CACF,CAAC,CAEjB,CAAC,CAED,cAAe,CAAApB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
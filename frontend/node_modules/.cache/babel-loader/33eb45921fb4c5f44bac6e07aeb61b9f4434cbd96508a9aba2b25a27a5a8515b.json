{"ast":null,"code":"// CreateGame.jsx\nimport React,{useState}from'react';import{useNavigate}from'react-router-dom';import Modal from\"../Elements/Modal\";import Panel from\"../Elements/Panel\";import\"./CreateGame.css\";import Header from\"../Header/Header\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateGame=()=>{const[npcName,setNPCName]=useState('');const[showModal,setShowModal]=useState(false);const[bloodLevel,setBloodLevel]=useState('');const navigate=useNavigate();const createGame=async event=>{event.preventDefault();const token=sessionStorage.getItem('token');// Retrieve the JWT token\nconsole.log(token);const response=await fetch(window.location.origin+'/livingstonesapp/create-game',{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({npc:{name:npcName,blood_level:bloodLevel}})});if(response.ok){const data=await response.json();navigate(\"/game/\".concat(data.id,\"/join\"));}else{const errorDetails=await response.json();console.error('Error in creating game:',errorDetails.message);}console.log('Game created:',{npcName,bloodLevel});setShowModal(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"create-game-container\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"button\",{className:\"button-large\",onClick:()=>setShowModal(true),children:\"Create Game\"}),/*#__PURE__*/_jsx(Modal,{show:showModal,onClose:()=>setShowModal(false),children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:createGame,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"NPC Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:npcName,onChange:e=>setNPCName(e.target.value)})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Blood Level:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:bloodLevel,onChange:e=>setBloodLevel(e.target.value)})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create Game\"})]})}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"\\xA9 2024 NPC Fighting App\"})})]});};export default CreateGame;","map":{"version":3,"names":["React","useState","useNavigate","Modal","Panel","Header","jsx","_jsx","jsxs","_jsxs","CreateGame","npcName","setNPCName","showModal","setShowModal","bloodLevel","setBloodLevel","navigate","createGame","event","preventDefault","token","sessionStorage","getItem","console","log","response","fetch","window","location","origin","method","headers","concat","body","JSON","stringify","npc","name","blood_level","ok","data","json","id","errorDetails","error","message","className","children","onClick","show","onClose","onSubmit","type","value","onChange","e","target"],"sources":["/Users/jerometh/PycharmProjects/LivingStones/frontend/src/components/CreateGame/CreateGame.jsx"],"sourcesContent":["// CreateGame.jsx\nimport React, {useState} from 'react';\nimport {useNavigate} from 'react-router-dom';\nimport Modal from \"../Elements/Modal\"\nimport Panel from \"../Elements/Panel\";\nimport \"./CreateGame.css\"\nimport Header from \"../Header/Header\";\nconst CreateGame = () => {\n    const [npcName, setNPCName] = useState('');\n    const [showModal, setShowModal] = useState(false);\n    const [bloodLevel, setBloodLevel] = useState('');\n    const navigate = useNavigate();\n    const createGame = async (event) => {\n        event.preventDefault();\n        const token = sessionStorage.getItem('token'); // Retrieve the JWT token\n        console.log(token)\n        const response = await fetch(window.location.origin + '/livingstonesapp/create-game', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n            },\n            body: JSON.stringify({\n                npc: {\n                    name: npcName,\n                    blood_level: bloodLevel,\n                },\n            }),\n        });\n\n        if (response.ok) {\n            const data = await response.json();\n            navigate(`/game/${data.id}/join`);\n        } else {\n            const errorDetails = await response.json();\n            console.error('Error in creating game:', errorDetails.message);\n        }\n        console.log('Game created:', {npcName, bloodLevel});\n        setShowModal(false);\n\n    };\n\n    return (\n        <div className={\"create-game-container\"}>\n            <Header/>\n            <button className={\"button-large\"} onClick={() => setShowModal(true)}>Create Game</button>\n            <Modal show={showModal} onClose={() => setShowModal(false)}>\n                <form onSubmit={createGame}>\n                    <div>\n                        <label>\n                            NPC Name:\n                            <input\n                                type=\"text\"\n                                value={npcName}\n                                onChange={(e) => setNPCName(e.target.value)}\n                            />\n                        </label>\n                    </div>\n                    <div>\n                        <label>\n                            Blood Level:\n                            <input\n                                type=\"number\"\n                                value={bloodLevel}\n                                onChange={(e) => setBloodLevel(e.target.value)}\n                            />\n                        </label>\n                    </div>\n                    <button type=\"submit\">Create Game</button>\n                </form>\n            </Modal>\n            <footer>\n                <p>&copy; 2024 NPC Fighting App</p>\n            </footer>\n        </div>\n    );\n};\n\nexport default CreateGame;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
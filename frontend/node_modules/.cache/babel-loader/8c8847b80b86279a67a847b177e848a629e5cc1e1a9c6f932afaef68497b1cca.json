{"ast":null,"code":"// CreateGame.jsx\nimport React,{useState}from'react';import{useNavigate}from'react-router-dom';import Modal from\"../Modals/Modal\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateGame=()=>{const[monsterName,setMonsterName]=useState('');const[showModal,setShowModal]=useState(true);const[bloodLevel,setBloodLevel]=useState('');const navigate=useNavigate();const createGame=async event=>{event.preventDefault();const token=sessionStorage.getItem('token');// Retrieve the JWT token\nconsole.log(token);const response=await fetch(window.location.origin+'/livingstonesapp/create-game',{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({monster:{name:monsterName,blood_level:bloodLevel}})});if(response.ok){const data=await response.json();navigate(\"/game/\".concat(data.id,\"/join\"));}else{const errorDetails=await response.json();console.error('Error in creating game:',errorDetails.message);}console.log('Game created:',{monsterName,bloodLevel});setShowModal(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create New Game\"}),/*#__PURE__*/_jsx(Modal,{show:showModal,onClose:()=>setShowModal(false),children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:createGame,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Monster Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:monsterName,onChange:e=>setMonsterName(e.target.value)})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Blood Level:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:bloodLevel,onChange:e=>setBloodLevel(e.target.value)})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create Game\"})]})})]});};export default CreateGame;","map":{"version":3,"names":["React","useState","useNavigate","Modal","jsx","_jsx","jsxs","_jsxs","CreateGame","monsterName","setMonsterName","showModal","setShowModal","bloodLevel","setBloodLevel","navigate","createGame","event","preventDefault","token","sessionStorage","getItem","console","log","response","fetch","window","location","origin","method","headers","concat","body","JSON","stringify","monster","name","blood_level","ok","data","json","id","errorDetails","error","message","children","show","onClose","onSubmit","type","value","onChange","e","target"],"sources":["/Users/jerometh/PycharmProjects/LivingStones/frontend/src/components/CreateGame/CreateGame.jsx"],"sourcesContent":["// CreateGame.jsx\nimport React, {useState} from 'react';\nimport {useNavigate} from 'react-router-dom';\nimport Modal from \"../Modals/Modal\"\n\nconst CreateGame = () => {\n    const [monsterName, setMonsterName] = useState('');\n    const [showModal, setShowModal] = useState(true);\n    const [bloodLevel, setBloodLevel] = useState('');\n    const navigate = useNavigate();\n    const createGame = async (event) => {\n        event.preventDefault();\n        const token = sessionStorage.getItem('token'); // Retrieve the JWT token\n        console.log(token)\n        const response = await fetch(window.location.origin + '/livingstonesapp/create-game', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n            },\n            body: JSON.stringify({\n                monster: {\n                    name: monsterName,\n                    blood_level: bloodLevel,\n                },\n            }),\n        });\n\n        if (response.ok) {\n            const data = await response.json();\n            navigate(`/game/${data.id}/join`);\n        } else {\n            const errorDetails = await response.json();\n            console.error('Error in creating game:', errorDetails.message);\n        }\n        console.log('Game created:', {monsterName, bloodLevel});\n        setShowModal(false);\n\n    };\n\n    return (\n        <div>\n            <h2>Create New Game</h2>\n            <Modal show={showModal} onClose={() => setShowModal(false)}>\n                <form onSubmit={createGame}>\n                    <div>\n                        <label>\n                            Monster Name:\n                            <input\n                                type=\"text\"\n                                value={monsterName}\n                                onChange={(e) => setMonsterName(e.target.value)}\n                            />\n                        </label>\n                    </div>\n                    <div>\n                        <label>\n                            Blood Level:\n                            <input\n                                type=\"number\"\n                                value={bloodLevel}\n                                onChange={(e) => setBloodLevel(e.target.value)}\n                            />\n                        </label>\n                    </div>\n                    <button type=\"submit\">Create Game</button>\n                </form>\n            </Modal>\n        </div>\n    );\n};\n\nexport default CreateGame;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}